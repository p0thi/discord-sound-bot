let mongoose,Guild,User,Sound;_e3e‍.x([["default",()=>DatabaseManager]]);_e3e‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_e3e‍.w("./models/Guild",[["default",["Guild"],function(v){Guild=v}]]);_e3e‍.w("./models/User",[["default",["User"],function(v){User=v}]]);_e3e‍.w("./models/Sound",[["default",["Sound"],function(v){Sound=v}]]);




               class DatabaseManager {
    constructor(path) {
        this.path = path;
        this.db = undefined;
    }

    connect() {
        mongoose.connect('mongodb://localhost/' + this.path, { useNewUrlParser: true });
        this.db = mongoose.connection;
    }

    async getGuild(cond, content) {
        let guild = await Guild.model.findOne(cond).exec();
        if (!guild) {
            guild = await Guild.model.create(content || cond);
        }
        return guild;
    }

    async getSound(cond) {
        let sound = await Sound.model.findOne(cond).exec();
        return sound;
    }

    async getUser(cond, content) {
        let user = await User.model.findOne(cond).exec();
        if (!user) {
            user = await User.model.create(content || cond);
        }
        return user;
    }
}